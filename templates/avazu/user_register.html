<html><head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>账号注册</title>

    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/font-awesome/css/font-awesome.css" rel="stylesheet">

    <link href="/static/css/animate.css" rel="stylesheet">
    <link href="/static/css/style.css" rel="stylesheet">

<style type="text/css"></style></head>

<body class="gray-bg">

    <div class="lock-word animated fadeInDown">
        <span class="first-word">Jumpserver</span>
    </div>
    <div class="middle-box text-center lockscreen animated fadeInDown">
        <div>
            <div class="m-b-md">
{#            <img alt="image" class="img-circle circle-border" src="https://s3.amazonaws.com/uifaces/faces/twitter/ok/128.jpg">#}
            {% if error %}
                <div class="alert alert-warning text-center"><h2>{{ error }}</h2></div>
            {% endif %}
            {% if msg %}
                <div class="alert alert-success text-center"><h2>{{ msg }}</h2></div>
            {% endif %}
            </div>
            <h3>注册信息</h3>
            <form class="m-t" role="form" action="" method="post">
                <div class="form-group">
                    <!-- <label for="username" class="col-sm-2 control-label">用户名<span class="red-fonts">*</span></label> -->
                    <input type="text" id="username" name='username' class="form-control" placeholder="用户名" required="">
                </div> 
                <div class="form-group">
                    <input type="text" name='name' class="form-control" placeholder="姓名" required="">
                </div>
                <div class="form-group">
                    <input type="text" name='email' class="form-control" placeholder="邮箱" required="">
                </div>
                <div class="form-group">
                    <input type="password" name='password' class="form-control" placeholder="密码" required="">
                </div>

                 <div>
                <div class="form-group">
                   <!-- <label for="expire" align="left"><h3>账号有效期</h3></label> -->
                    <select name='expire' size="1"  class="form-control" placeholder="有效期" required="">
                          <option value= 0>账号有效期</option>
                          <option value = 2>2小时</option>
                          <option value = 4>4小时</option>
                          <option value = 6>6小时</option>
                          <option value = 8>8小时</option>
                          <option value = 10>10小时</option>
                          <option value = 12>12小时</option>
                          <option value = 14>14小时</option>
                          <option value = 16>16小时</option>
                          <option value = 18>18小时</option>
                          <option value = 20>20小时</option>
                          <option value = 22>22小时</option>
                          <option value = 24>24小时</option>
                   </select>
                </div>
                <div class="form-group">
                <label for="expire" align="left"><h3>申请服务器列表</h3></label> 
                <select name="hosts" class="chosen-select form-control m-b" placeholder="申请访问的主机列表" size="10" required="" multiple>
                {% for host in hosts%}
                    <option value="{{ host.ip }}" >{{ host.ip }}</option>
                {% endfor %}
                </select>
                </div>
                <button type="submit" class="btn btn-primary block full-width">确定</button>
            </form>
        </div>
    </div>

<script>
$('#userForm').fields:({
        "username": {
            rule: "required",
            tip: "输入登陆使用的账号",
            msg: {required: "登陆账号必填"}
        },
        "name": {
            rule: "required",
            tip: "输入真实姓名",
            msg: {required: "真实姓名必填"}
        },
        "email": {
            rule: "required",
            tip: "输入邮箱地址",
            msg: {required: "邮箱地址必填"}
        },
        "password": {
            rule: "required",
            tip: "输入用户密码",
            msg: {required: "用户密码必填"}
        }
    },
    valid: function(form) {
            form.submit();
        }
});

$('#userForm').validator({
    timely: 2,
    theme: "yellow_right_effect",
    rules: {
        check_username: [/^[\w.]{3,20}$/, '大小写字母数字和下划线小数点'],
        type_m: function(element){
                    return  $("#M").is(":checked");
            }
    },
    fields: {
        "username": {
            rule: "required;check_username",
            tip: "输入用户名",
            ok: "",
            msg: {required: "必须填写!"}
        },
        "password": {
            rule: "required;length[6~50]",
            tip: "输入密码",
            ok: "",
            msg: {required: "必须填写!"}
        },
        "name": {
            rule: "required",
            tip: "姓名",
            ok: "",
            msg: {required: "必须填写"}
        },
        "email": {
            rule: "required",
            tip: "Email",
            ok: "",
            msg: {required: "必须填写"}
        }
    },
    valid: function(form) {
        form.submit();
    }
});

var config = {
                 '.chosen-select'           : {},
                 '.chosen-select-deselect'  : {allow_single_deselect:true},
                 '.chosen-select-no-single' : {disable_search_threshold:10},
                 '.chosen-select-no-results': {no_results_text:'Oops, nothing found!'},
                 '.chosen-select-width'     : {width:"95%"}
             };
 
 for (var selector in config) {
     $(selector).chosen(config[selector]);
 }

</script>
  
    <!-- Mainly scripts -->
    <script src="/static/js/jquery-2.1.1.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>

</body>
</html>
